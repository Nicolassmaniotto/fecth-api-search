<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch API</title>
    <!-- funcoes principais -->
    <script  src='js/json_ fetch.js'></script>

        <!-- função de contrução dos items -->
        <script  src='js/json_conteudo.js'></script>
        <!--  -->
        <!-- função de recebimento de valor no input -->
        <script  src='js/input_v.js'></script>
        <!-- <link rel="stylesheet" href="css/style.css"> -->
        <style>
            @import "css/sel.css";
            @import "css/style.css";
        </style>
</head>
<body>
    <div class="sel">

   
    <!-- Form html que recebe valores -->
    <form class="sel" act='' name='form_imput' id='form_input' ></form>
        <div class="sel">
            <input class='sel' type='text' name='input_value' id='input_value' onkeypress="chamada_input_ul(`ul_values`,`${this.id}`)" placeholder="input_value" value=''/>
                
            <ul class="sel" id="ul_values">
                
            </ul>
        </div>
        <div>
            <a class="sel"><input class='' type='text' name='input_value2' id='input_value2' onkeypress="chamada_input_select(`select_values`,`input_value2`)" placeholder="input_value" value=''/> 
            <select class="" id="select_values" onchange="input_v(this.value,'input_value2',this.id)" >
            </select>  
        </a>
        </div>
        <div>
            <input class='sel' type='text' name='input_value3' id='input_value3' onkeypress="chamada_input_a(`a_values`,`input_value3`)" placeholder="input_value" value=''/>
                
            <div class='sel' id='a_values' name='a_values'>

            </div>  
        </div>


        <!-- submit -->
    <div class="sel">
        <input type="submit">
    </div>
    </form>
    <hr>
    <div class="sel">
        <input clas='sel' type='text' name='input_value4' id='input_value4' onkeypress="chamada_input_div_a(`div_a_values`,`input_value4`)" placeholder="input_value" value=''/>
            
        <div class='sel' id='div_a_values' name='div_a_values'>

        </div>  
    </div>


</div>
    <script type='text/javascript'>

        /*funçao chamada,  chama a funcao real a ser chamada 
        com os parametros e variaveis nescessarias apenas a ela
        */
       //chama a função json fetch com local do servidor, posicao de escrita  e valor
       //pos id do <ul> , input id do input a ser usado
        function chamada_input_ul(pos,input){
            //caminho do servidor,  alterar com o local do servidor http
            let servidor = 'http://localhost:4445/server.php';
            //pega o valor atual do imput
            let valor_atual = document.getElementById(input).value;
            let url = `${servidor}?value=${valor_atual}`;
            //func(endereço da pagina ,nome do id do div a ser preenchido, função a ser chamada)
            json_fetch(url,pos,json_conteudo_ul);
        };
        /*funçao chamada,  chama a funcao real a ser chamada 
        com os parametros e variaveis nescessarias apenas a ela
        */
       //chama a função json fetch com local do servidor, posicao de escrita  e valor
       //pos id do <select> , input id do input a ser usado
        function chamada_input_select(pos,input){
            //caminho do servidor,  alterar com o local do servidor http
            let servidor = 'http://localhost:4445/server.php';
            //pega o valor atual do imput
            let valor_atual = document.getElementById(input).value;
            let url = `${servidor}?value=${valor_atual}`;
            //func(endereço da pagina ,nome do id do div a ser preenchido, função a ser chamada)
            json_fetch(url,pos,json_conteudo_select);
        };
          /*funçao chamada,  chama a funcao real a ser chamada 
        com os parametros e variaveis nescessarias apenas a ela
        */
       //chama a função json fetch com local do servidor, posicao de escrita  e valor
       //pos id do <select> , input id do input a ser usado
        function chamada_input_a(pos,input){
            //caminho do servidor,  alterar com o local do servidor http
            let servidor = 'http://localhost:4445/server.php';
            //pega o valor atual do imput
            let valor_atual = document.getElementById(input).value;
            let url = `${servidor}?value=${valor_atual}`;
            //func(endereço da pagina ,nome do id do div a ser preenchido, função a ser chamada)
            json_fetch(url,pos,json_conteudo_a);
        };
           /*funçao chamada,  chama a funcao real a ser chamada 
        com os parametros e variaveis nescessarias apenas a ela
        */
       //chama a função json fetch com local do servidor, posicao de escrita  e valor
       //pos id do <select> , input id do input a ser usado
        function chamada_input_div_a(pos,input){
            //caminho do servidor,  alterar com o local do servidor http
            let servidor = 'http://localhost:4445/server.php';
            //pega o valor atual do imput
            let valor_atual = document.getElementById(input).value;
            let url = `${servidor}?value=${valor_atual}`;
            //func(endereço da pagina ,nome do id do div a ser preenchido, função a ser chamada)
            json_fetch(url,pos,json_conteudo_div_a);
        };
    </script>
</body>
</html>